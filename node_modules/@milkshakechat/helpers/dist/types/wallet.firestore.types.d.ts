import { CookieSaleID, GiftCardSaleID, JournalEntryID, StickerSaleID, WalletID, TimestampFirestore, TransactionID, UserID, WishID } from "./base.types";
export interface Wallet_Firestore {
    id: WalletID;
    operatorID: UserID;
    ownerID: UserID;
    title: string;
    createdAt: TimestampFirestore;
    note: string;
    cookieBalance: number;
    assumedRealValueUSDBalance: number;
}
export declare enum TransactionType {
    COOKIE = "COOKIE",
    STICKER = "STICKER",
    GIFT_CARD = "GIFT_CARD",
    REFUND = "REFUND"
}
export declare enum TransactionStatus {
    SUCCESS = "SUCCESS",
    FAILURE = "FAILURE"
}
export interface Transaction {
    id: TransactionID;
    senderWalletID: WalletID;
    recieverWalletID: WalletID;
    cookieQuantitySent: number;
    cookieQuantityFee: number;
    cookieQuantityReceived: number;
    realValueUSD: number;
    note: string;
    type: TransactionType;
    status: TransactionStatus;
    createdAt: TimestampFirestore;
    metadata: TransactionMetadata;
}
export interface TransactionMetadata {
    transactionID: TransactionID;
    stickerSaleMetadata?: {
        stickerSaleID: StickerSaleID;
        wishID: WishID;
        promoCode?: string;
    };
    cookieSaleMetadata?: {
        cookieSaleID: CookieSaleID;
        promoCode?: string;
    };
    giftCardSaleMetadata?: {
        giftCardSaleID: GiftCardSaleID;
        redeemerID?: UserID;
        isValid?: boolean;
        promoCode?: string;
    };
    refundMetadata?: {
        refundTransactionID: TransactionID;
        customerComplaint: string;
        note: string;
    };
}
export interface JournalEntry {
    id: JournalEntryID;
    transactionID: TransactionID;
    walletID: WalletID;
    cookieQuantityDelta: number;
    realValueUSDDelta: number;
    note: string;
    createdAt: TimestampFirestore;
}
/**
 * Example purchase of cookies
 * - 1 Transaction created
 * - 1 JournalEntries created
 *     - add cookies to receiver
 *
 * Example purchase of stickers
 * - 1 Transaction created
 * - 3 JournalEntries created
 *      - deduct cookies from sender
 *      - add cookies to receiver
 *      - add cookies to house
 *
 * Example purchase of gift card
 * - 1 Transaction created
 * - 1 JournalEntries created
 *      - add cookies to gift card
 *
 * Example redemption of gift card
 * - 1 Transaction created
 * - 2 JournalEntries created
 *      - deduct cookies from gift card
 *      - add cookies to receiver
 *
 */
