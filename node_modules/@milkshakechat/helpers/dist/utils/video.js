"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVideoFileExtension = void 0;
function getVideoFileExtension(urlString) {
    try {
        // Split the URL by '/' and take the last part to get the file name
        const fileName = urlString.split("/").pop();
        // Split the file name by '?' to remove any query parameters
        const baseName = fileName === null || fileName === void 0 ? void 0 : fileName.split("?")[0];
        // Split the base name by '.' and take the last part to get the extension
        const ext = baseName === null || baseName === void 0 ? void 0 : baseName.split(".").pop();
        // Check if the extension exists and is not the same as the base name
        if (fileName && baseName && ext && ext !== baseName) {
            // Return the extension without leading dot
            return ext;
        }
        else {
            // If no extension found
            return null;
        }
    }
    catch (e) {
        console.error(`Failed to get extension from url ${urlString}: ${e}`);
        return null;
    }
}
exports.getVideoFileExtension = getVideoFileExtension;
